<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="css/style2.css">
    <script src="js/jquery-1.11.3.min.js"></script>
    <script src="js/TouchSlide.1.1.js"></script>
</head>
<body>
    <header>
        <span><</span>
        <h3>场景推荐</h3>
    </header>
    <div class="search">
        <button type="button"><img src="image/search.png"></button>
        <input type="text" placeholder="COM/TMT/IT/APP">
    </div>
    <div class="Content">
        <div class="Item">
            <h4>COM摄影基地</h4>
            <div class="smallImg">
                <div class="scrollbutton smallImgUp disabled" ontouchstart="change(this)"><</div>
                <div class="imageMenu">
                    <ul>
                        <li><img src="images/3.jpg"/><p>韩国街景</p></li>
                        <li><img src="images/1.jpg"/><p>韩国街景</p></li>
                        <li><img src="images/2.jpg"/><p>韩国街景</p></li>
                        <li><img src="images/3.jpg"/><p>韩国街景</p></li>
                        <li><img src="images/4.jpg"/><p>韩国街景</p></li>
                        <li><img src="images/5.jpg"/><p>韩国街景</p></li>
                        <li><img src="images/6.jpg"/><p>韩国街景</p></li>
                    </ul>
                </div>
                <div class="scrollbutton smallImgDown" ontouchstart="change(this)">></div>
            </div>
        </div>
        <div class="Item">
            <h4>COM摄影基地</h4>
            <div class="smallImg">
                <div class="scrollbutton smallImgUp disabled" ontouchstart="change(this)"><</div>
                <div class="imageMenu">
                    <ul>
                        <li><img src="images/3.jpg"/><p>韩国街景</p></li>
                        <li><img src="images/1.jpg"/><p>韩国街景</p></li>
                        <li><img src="images/2.jpg"/><p>韩国街景</p></li>
                        <li><img src="images/3.jpg"/><p>韩国街景</p></li>
                        <li><img src="images/4.jpg"/><p>韩国街景</p></li>
                        <li><img src="images/5.jpg"/><p>韩国街景</p></li>
                        <li><img src="images/6.jpg"/><p>韩国街景</p></li>
                    </ul>
                </div>
                <div class="scrollbutton smallImgDown" ontouchstart="change(this)">></div>
            </div>
        </div>
        <div class="Item">
            <h4>COM摄影基地</h4>
            <div class="smallImg">
                <div class="scrollbutton smallImgUp disabled" ontouchstart="change(this)"><</div>
                <div class="imageMenu">
                    <ul>
                        <li><img src="images/3.jpg"/><p>韩国街景</p></li>
                        <li><img src="images/1.jpg"/><p>韩国街景</p></li>
                        <li><img src="images/2.jpg"/><p>韩国街景</p></li>
                        <li><img src="images/3.jpg"/><p>韩国街景</p></li>
                        <li><img src="images/4.jpg"/><p>韩国街景</p></li>
                        <li><img src="images/5.jpg"/><p>韩国街景</p></li>
                        <li><img src="images/6.jpg"/><p>韩国街景</p></li>
                    </ul>
                </div>
                <div class="scrollbutton smallImgDown" ontouchstart="change(this)">></div>
            </div>
        </div>
        <div class="Item">
            <h4>COM摄影基地</h4>
            <div class="smallImg">
                <div class="scrollbutton smallImgUp disabled" ontouchstart="change(this)"><</div>
                <div class="imageMenu">
                    <ul>
                        <li><img src="images/3.jpg"/><p>韩国街景</p></li>
                        <li><img src="images/1.jpg"/><p>韩国街景</p></li>
                        <li><img src="images/2.jpg"/><p>韩国街景</p></li>
                        <li><img src="images/3.jpg"/><p>韩国街景</p></li>
                        <li><img src="images/4.jpg"/><p>韩国街景</p></li>
                        <li><img src="images/5.jpg"/><p>韩国街景</p></li>
                        <li><img src="images/6.jpg"/><p>韩国街景</p></li>
                    </ul>
                </div>
                <div class="scrollbutton smallImgDown" ontouchstart="change(this)">></div>
            </div>
        </div>
        <div class="Item">
            <h4>COM摄影基地</h4>
            <div class="smallImg">
                <div class="scrollbutton smallImgUp disabled" ontouchstart="change(this)"><</div>
                <div class="imageMenu">
                    <ul>
                        <li><img src="images/3.jpg"/><p>韩国街景</p></li>
                        <li><img src="images/1.jpg"/><p>韩国街景</p></li>
                        <li><img src="images/2.jpg"/><p>韩国街景</p></li>
                        <li><img src="images/3.jpg"/><p>韩国街景</p></li>
                        <li><img src="images/4.jpg"/><p>韩国街景</p></li>
                        <li><img src="images/5.jpg"/><p>韩国街景</p></li>
                        <li><img src="images/6.jpg"/><p>韩国街景</p></li>
                    </ul>
                </div>
                <div class="scrollbutton smallImgDown" ontouchstart="change(this)">></div>
            </div>
        </div>
        <div class="Item">
            <h4>COM摄影基地</h4>
            <div class="smallImg">
                <div class="scrollbutton smallImgUp disabled" ontouchstart="change(this)"><</div>
                <div class="imageMenu">
                    <ul>
                        <li><img src="images/3.jpg"/><p>韩国街景</p></li>
                        <li><img src="images/1.jpg"/><p>韩国街景</p></li>
                        <li><img src="images/2.jpg"/><p>韩国街景</p></li>
                        <li><img src="images/3.jpg"/><p>韩国街景</p></li>
                        <li><img src="images/4.jpg"/><p>韩国街景</p></li>
                        <li><img src="images/5.jpg"/><p>韩国街景</p></li>
                        <li><img src="images/6.jpg"/><p>韩国街景</p></li>
                    </ul>
                </div>
                <div class="scrollbutton smallImgDown" ontouchstart="change(this)">></div>
            </div>
        </div>
        <div class="Item">
            <h4>COM摄影基地</h4>
            <div class="smallImg">
                <div class="scrollbutton smallImgUp disabled" ontouchstart="change(this)"><</div>
                <div class="imageMenu">
                    <ul>
                        <li><img src="images/3.jpg"/><p>韩国街景</p></li>
                        <li><img src="images/1.jpg"/><p>韩国街景</p></li>
                        <li><img src="images/2.jpg"/><p>韩国街景</p></li>
                        <li><img src="images/3.jpg"/><p>韩国街景</p></li>
                        <li><img src="images/4.jpg"/><p>韩国街景</p></li>
                        <li><img src="images/5.jpg"/><p>韩国街景</p></li>
                        <li><img src="images/6.jpg"/><p>韩国街景</p></li>
                    </ul>
                </div>
                <div class="scrollbutton smallImgDown" ontouchstart="change(this)">></div>
            </div>
        </div>
    </div>
    <footer>
        <div class="BigQueen">
            <div class="smallCircle">
                <img src="image/huangguan.png">
            </div>
        </div>
        <ul id="FooterItem">
            <li>
                <div class="QueenImg">
                    <img src="image/redhuangguan.png">
                </div>
                <span class="hover">首页</span>
            </li>
            <li>
                <div class="QueenImg">
                    <img src="image/huangguan.png">
                </div>
                <span>分类</span>
            </li>
            <li>
                <div class="QueenImg">
                </div>
                <span></span>
            </li>
            <li>
                <div class="QueenImg">
                    <img src="image/huangguan.png">
                </div>
                <span>秀场</span>
            </li>
            <li>
                <div class="QueenImg">
                    <img src="image/huangguan.png">
                </div>
                <span>客服</span>
            </li>
        </ul>
    </footer>
    <script>
        /*footer切换*/
        var li =  document.getElementById('FooterItem').getElementsByTagName('li');
        for(var i = 0;i<li.length;i++){
            li[i].addEventListener('touchstart',touchStart,false);
        }
        function touchStart(e){
            var liImg = [];
            var liSpan = [];

            var li =  document.getElementById('FooterItem').getElementsByTagName('li');
            for(var i = 0;i<li.length;i++){
                if(i!=2){
                    liImg[i] = li[i].children[0].children[0];
                    liSpan[i] = li[i].children[1];
                    liImg[i].setAttribute('src','image/huangguan.png');
                    liSpan[i].className='';
                }
            }
            var img = this.children[0].children[0];
            var span = this.children[1];
            img.src = 'image/redhuangguan.png';
            span.className='hover';
        }
        // 图片上下滚动
        var count = 7 - 4; /* 显示 6 个 li标签内容 */
        var interval = $(".imageMenu li:first").width();
        var curIndex = [];
        var num=0;
        for(var i = 0;i<10;i++){
            curIndex.push(0);
        }
        //判断class
        function hasClass(obj, cls) {
            return obj.className.match(new RegExp('(\\s|^)' + cls + '(\\s|$)'));
        }

        function addClass(obj, cls) {
            if (!this.hasClass(obj, cls)) obj.className += " " + cls;
        }

        function removeClass(obj, cls) {
            if (hasClass(obj, cls)) {
                var reg = new RegExp('(\\s|^)' + cls + '(\\s|$)');
                obj.className = obj.className.replace(reg, ' ');
            }
        }
        function toggleClass(obj,cls){
            if(hasClass(obj,cls)){
                removeClass(obj, cls);
            }else{
                addClass(obj, cls);
            }
        }

        function change(obj){
            var classNum = obj.className;
            if(obj.value==undefined){
                obj.value=num;
                if(classNum.indexOf('Up')>0){
                    var a = obj.parentNode.childNodes[5];
                    a.value=num;
                }
                else{
                    var a = obj.parentNode.childNodes[1];
                    a.value=num;
                }
                num++;
            }
            var item = obj.parentNode.childNodes[3].childNodes[1];
            var bool = classNum.indexOf('disabled');
            var Up = classNum.indexOf('smallImgUp');
            if( bool>0){
                return false;
            }

            if (Up>0) curIndex[obj.value]--;
            else curIndex[obj.value]++;

            console.log(curIndex);

            var pre = obj.parentNode.childNodes[1];
            var next = obj.parentNode.childNodes[5];
            removeClass(pre,'disabled');
            removeClass(next,'disabled');
            if (curIndex[obj.value] == 0){
                addClass(obj,'disabled');
            }
            if (curIndex[obj.value] == count-1){
                addClass(obj,'disabled');
            }

            $(item).stop(false, true).animate({"marginLeft" : -curIndex[obj.value]*interval + "px"}, 600);
        }
    </script>
</body>
</html>